<ion-header>
  <ion-toolbar color=primary>
    <ion-buttons slot="start">
      <ion-button *ngIf="service.backUrl" [routerLink]="service.backUrl">
        <ion-icon name="arrow-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <nav *ngIf="(websocket.currentEdge | async) as currentEdge">
        <ion-button routerLink="/device/{{ currentEdge.name }}/config/overview">
          <ion-icon name="settings" size="large"></ion-icon>
        </ion-button>
      </nav>
      <ion-button (click)="presentPopover($event)">
        <ion-icon size="large" name="more"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title *ngIf="(websocket.currentEdge | async) as currentEdge" routerLink="/device/{{ currentEdge.name }}/overview">
      <button mat-button>
        Energiemonitor
        <!-- TODO translate -->
        <small>({{ currentEdge.name }})</small>
      </button>
    </ion-title>
  </ion-toolbar>
</ion-header>



<!--   -->
<div *ngIf="websocket.status == 'connecting'" fxLayout fxLayoutAlign="center start" fxLayout="wrap" style="font-family: sans-serif; background-color: yellow">
  <span>Trying to reconnect...</span>
  <!-- TODO translate -->
</div>
<ng-container *ngIf="(websocket.currentEdge | async) as currentEdge">
  <div *ngIf="!currentEdge.online" fxLayout fxLayoutAlign="center start" fxLayout="wrap" style="font-family: sans-serif; background-color: yellow">
    <span>Device not connected.</span>
    <!-- TODO translate -->
  </div>
</ng-container>
<div fxLayout fxLayoutAlign="center start" fxLayout="wrap" style="overflow: auto">
  <div fxFlex="100%">
    <router-outlet></router-outlet>
  </div>
</div>
<toaster-container></toaster-container>